# Burp Suite 请求参数统计插件需求说明书

## 1. 项目概述

本项目旨在开发一个Burp Suite插件，该插件能够计算HTTP请求中参数的数量和已赋值的参数数量，并将统计结果写入请求的备注中。

## 2. 功能需求

### 2.1 基本功能

1. 插件应能够统计HTTP请求中所有参数的数量
2. 插件应能够统计HTTP请求中已被赋值的参数数量
3. 插件应将统计结果（参数总数和已赋值参数数）写入请求的备注中
4. 插件应仅处理来自Burp Suite代理历史记录（Proxy > HTTP history）中的请求

### 2.2 用户交互

1. 用户可以通过右键菜单选择计算参数量的功能
2. 如果用户没有选择任何请求，则插件应处理所有符合条件的历史请求数据
3. 如果用户选择了一个或多个请求，则插件仅处理被选中的请求

### 2.3 参数统计方法

1. 参数总数：请求体中包含的所有参数数量
2. 已赋值参数数：请求体中已被赋值的参数数量
3. 统计应考虑不同格式的请求体（如form表单、JSON、XML等）

## 3. 技术规格

### 3.1 开发环境

- 操作系统：Mac OS
- Java版本：Java 17
- 版本控制：Git
- 依赖管理：Maven

### 3.2 依赖

- Burp Suite扩展API：
  ```xml
  <dependency>
      <groupId>net.portswigger.burp.extender</groupId>
      <artifactId>montoya-api</artifactId>
      <version>0.9.25</version>
  </dependency>
  ```

## 4. 交付物

1. 完整的源代码
2. JAR格式的插件文件
3. 使用说明文档

## 5. 限制条件

1. 插件应兼容Burp Suite最新版本
2. 插件应尽可能高效，不应显著增加Burp Suite的内存使用或降低其性能

## 6. 实现要点

1. 实现Burp Suite扩展接口
2. 注册上下文菜单
3. 解析不同格式的HTTP请求体
4. 统计参数数量
5. 更新请求备注 